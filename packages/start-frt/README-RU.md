# start-frt — Фронтенд-пакет стартовых страниц

Фронтенд-пакет на Vue.js для стартовых страниц Universo Platformo. Предоставляет посадочную страницу для гостей, дашборд для аутентифицированных пользователей и форму аутентификации.

## Обзор

Этот пакет отвечает за:

- **GuestStartPage** — публичная посадочная страница для неаутентифицированных пользователей (герой, отзывы, футер)
- **AuthenticatedStartPage** — мастер онбординга для аутентифицированных пользователей
- **AuthPage** — форма входа и регистрации
- **Управление состоянием аутентификации** — реактивное состояние аутентификации Supabase через Laravel-бэкенд
- **i18n** — простой composable для перевода с использованием серверных строк

## Структура пакета

```
start-frt/
├── base/
│   └── resources/
│       └── js/
│           ├── App.vue                  # Корневой компонент (маршрутизация + провайдер аутентификации)
│           ├── Pages/
│           │   ├── StartPage.vue        # Условная страница (гость или аутентифицированный)
│           │   ├── GuestStartPage.vue   # Посадочная страница для неаутентифицированных
│           │   ├── AuthenticatedStartPage.vue  # Онбординг для аутентифицированных
│           │   └── AuthPage.vue         # Форма входа / регистрации
│           ├── Components/
│           │   ├── AppAppBar.vue        # Навигационная панель
│           │   ├── Hero.vue             # Секция героя с CTA
│           │   ├── Testimonials.vue     # Секция отзывов (4 карточки)
│           │   ├── StartFooter.vue      # Футер со ссылками
│           │   └── OnboardingWizard.vue # Пошаговый мастер онбординга
│           ├── Composables/
│           │   ├── useAuth.js           # Состояние и действия аутентификации
│           │   └── useI18n.js           # Composable для переводов
│           └── api/
│               └── onboarding.js        # API-клиент онбординга
├── README.md
└── README-RU.md
```

## Страницы

### GuestStartPage

Публичная посадочная страница для неаутентифицированных посетителей. Содержит:
- Полноэкранный фон с градиентным наложением
- Навигационную панель с кнопкой «Войти»
- Секцию героя с заголовком, описанием и кнопкой CTA
- Секцию отзывов (4 карточки в ряд)
- Футер с авторскими правами и ссылками

### AuthenticatedStartPage

Отображается аутентифицированным пользователям, не завершившим онбординг. Содержит:
- Пошаговый мастер онбординга (Приветствие → Проекты → Кампании → Кластеры → Завершение)
- Экран завершения, если онбординг уже пройден

### AuthPage

Форма входа и регистрации. Возможности:
- Переключатель вкладок между входом и регистрацией
- Поля email + пароль с валидацией
- Сообщения об ошибках и успехе
- Ссылка «Вернуться на главную»

## Аутентификация

Состояние аутентификации управляется через `useAuth.js` и предоставляется в корне приложения через механизм Vue `provide/inject`.

```js
// App.vue предоставляет хранилище аутентификации
provide('auth', authStore)

// Любой компонент может его получить
const auth = inject('auth')
// auth.isAuthenticated, auth.loading, auth.user (все реактивны)
```

Действия аутентификации (`login`, `register`, `logout`) вызывают Laravel-бэкенд на `/api/v1/auth/*`, который проксирует запросы в Supabase.

## i18n

Переводы внедряются Blade-шаблоном как `window.__translations` и доступны через composable `useI18n`:

```js
const { t } = useI18n()
t('hero.button') // → "В будущее"
```

Строки переводов определяются в `resources/lang/en/landing.php`.

## Интеграция

Пакет монтируется в `resources/js/app.js`:

```js
import App from '../../packages/start-frt/base/resources/js/App.vue'
const app = createApp(App)
app.mount('#app')
```
